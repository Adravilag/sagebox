/* ═══════════════════════════════════════════════════════════════════════════
   SG-TOOLTIP STYLES
   Professional tooltip with smooth animations
   ═══════════════════════════════════════════════════════════════════════════ */

:host {
  /* Customizable tokens */
  --_bg: var(--sg-tooltip-bg, #18181b);
  --_color: var(--sg-tooltip-color, #fafafa);
  --_radius: var(--sg-tooltip-radius, 8px);
  --_padding-x: var(--sg-tooltip-padding-x, 12px);
  --_padding-y: var(--sg-tooltip-padding-y, 8px);
  --_font-family: var(--sg-tooltip-font-family, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif);
  --_font-size: var(--sg-tooltip-font-size, 0.8125rem);
  --_font-weight: var(--sg-tooltip-font-weight, 500);
  --_letter-spacing: var(--sg-tooltip-letter-spacing, -0.01em);
  --_line-height: var(--sg-tooltip-line-height, 1.5);
  --_shadow: var(--sg-tooltip-shadow, 0 4px 16px -4px rgba(0, 0, 0, 0.24), 0 2px 6px -2px rgba(0, 0, 0, 0.16));
  --_offset: var(--sg-tooltip-offset, 8px);
  --_arrow-size: 6px;
  --_z-index: var(--sg-tooltip-z-index, 9999);
  --_max-width: var(--sg-tooltip-max-width, 280px);

  display: inline-flex;
  position: relative;
  vertical-align: middle;
}

/* ─────────────────────────────────────────────────────────────────────────────
   TRIGGER - The element that activates the tooltip
   ───────────────────────────────────────────────────────────────────────────── */
.trigger {
  display: inline-flex;
  align-items: center;
  cursor: inherit;
}

/* ─────────────────────────────────────────────────────────────────────────────
   TOOLTIP BUBBLE
   ───────────────────────────────────────────────────────────────────────────── */
.bubble {
  position: absolute;
  z-index: var(--_z-index);
  max-width: var(--_max-width);
  padding: var(--_padding-y) var(--_padding-x);
  background: var(--_bg);
  color: var(--_color);

  /* Typography */
  font-family: var(--_font-family);
  font-size: var(--_font-size);
  font-weight: var(--_font-weight);
  letter-spacing: var(--_letter-spacing);
  line-height: var(--_line-height);
  text-align: left;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  white-space: normal;
  word-wrap: break-word;
  border-radius: var(--_radius);
  box-shadow: var(--_shadow);
  pointer-events: none;
  user-select: none;

  /* Animation */
  opacity: 0;
  transition: opacity 0.15s ease-out;
}

/* Interactive mode allows hovering the tooltip */
:host([interactive]) .bubble {
  pointer-events: auto;
}

/* ─────────────────────────────────────────────────────────────────────────────
   ARROW
   ───────────────────────────────────────────────────────────────────────────── */
.arrow {
  position: absolute;
  width: 0;
  height: 0;
  border: var(--_arrow-size) solid transparent;
}

/* ─────────────────────────────────────────────────────────────────────────────
   VISIBLE STATE
   ───────────────────────────────────────────────────────────────────────────── */
:host([data-show]) .bubble {
  opacity: 1;
}

/* ─────────────────────────────────────────────────────────────────────────────
   POSITIONS
   ───────────────────────────────────────────────────────────────────────────── */

/* TOP (default) */
:host([position='top']) .bubble,
:host(:not([position])) .bubble {
  bottom: calc(100% + var(--_offset));
  left: 50%;
  transform: translateX(-50%);
}

:host([position='top']) .arrow,
:host(:not([position])) .arrow {
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  border-top-color: var(--_bg);
  border-bottom-width: 0;
}

/* BOTTOM */
:host([position='bottom']) .bubble {
  top: calc(100% + var(--_offset));
  left: 50%;
  transform: translateX(-50%);
}

:host([position='bottom']) .arrow {
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  border-bottom-color: var(--_bg);
  border-top-width: 0;
}

/* LEFT */
:host([position='left']) .bubble {
  right: calc(100% + var(--_offset));
  top: 50%;
  transform: translateY(-50%);
}

:host([position='left']) .arrow {
  left: 100%;
  top: 50%;
  transform: translateY(-50%);
  border-left-color: var(--_bg);
  border-right-width: 0;
}

/* RIGHT */
:host([position='right']) .bubble {
  left: calc(100% + var(--_offset));
  top: 50%;
  transform: translateY(-50%);
}

:host([position='right']) .arrow {
  right: 100%;
  top: 50%;
  transform: translateY(-50%);
  border-right-color: var(--_bg);
  border-left-width: 0;
}

/* ─────────────────────────────────────────────────────────────────────────────
   VARIANTS
   ───────────────────────────────────────────────────────────────────────────── */
:host([variant='dark']) {
  --_bg: #09090b;
  --_color: #fafafa;
}

:host([variant='light']) {
  --_bg: #ffffff;
  --_color: #18181b;
  --_shadow: 0 4px 16px -4px rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(0, 0, 0, 0.06);
}

:host([variant='primary']) {
  --_bg: #6366f1;
  --_color: #ffffff;
}

:host([variant='success']) {
  --_bg: #22c55e;
  --_color: #ffffff;
}

:host([variant='warning']) {
  --_bg: #fbbf24;
  --_color: #18181b;
}

:host([variant='error']) {
  --_bg: #ef4444;
  --_color: #ffffff;
}

/* ─────────────────────────────────────────────────────────────────────────────
   DISABLED STATE
   ───────────────────────────────────────────────────────────────────────────── */
:host([disabled]) .bubble {
  display: none;
}
